<app-loading-modal/>
@if (selectedProduct) {
  <nav class="breadcrumbs mb8">
    <ul class="breadcrumbs_menu">
      <li><h6>{{ city }}</h6></li>
      <svg width="4" height="4" viewBox="0 0 4 4" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="2" cy="2" r="2" fill="currentColor"/>
      </svg>
      @if (parentCategoryName) {
        <li><h6>{{ parentCategoryName }}</h6></li>
        <svg width="4" height="4" viewBox="0 0 4 4" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="2" cy="2" r="2" fill="currentColor"/>
        </svg>
      }
      <li><h6>{{ selectedProduct.category.name }}</h6></li>
    </ul>
  </nav>
  <div class="current-product">
    <div class="current-product_img">
      <h2 class="mb16">{{ selectedProduct.name }}</h2>
      <app-images-carousel [miniImg]="selectedProduct"></app-images-carousel>
    </div>
    <div class="current-product_info">
      <h2 class="current-product_price">{{ selectedProduct.cost | price }}</h2>
      <app-show-phone
        [product]="selectedProduct"
      ></app-show-phone>
      @if (showEditButton) {
        <div class="current-product_edit-buttons mt16">
          <app-button
            customClass='p-button_edit-product'
            label="Редактировать"
            icon="pi pi-pencil"
          ></app-button>
          <p-toast />
          <p-confirm-dialog></p-confirm-dialog>
          <app-button
            customClass='p-button_delete-product'
            label="Удалить"
            icon="pi pi-trash"
            (onClick)="confirm2($event)"
          ></app-button>
        </div>
      }
      <div class="mt40">
        <h4>Адрес</h4>
        <div class="current-product_info_address mt8">
          <h6>{{ selectedProduct.location }}</h6>
          <a href="" class="current-product_open-map">
            <h6>Открыть на карте</h6>
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M18.75 2.5C18.75 2.16848 18.6183 1.85054 18.3839 1.61612C18.1495 1.3817 17.8315 1.25 17.5 1.25H2.5C2.16848 1.25 1.85054 1.3817 1.61612 1.61612C1.3817 1.85054 1.25 2.16848 1.25 2.5V17.5C1.25 17.8315 1.3817 18.1495 1.61612 18.3839C1.85054 18.6183 2.16848 18.75 2.5 18.75H17.5C17.8315 18.75 18.1495 18.6183 18.3839 18.3839C18.6183 18.1495 18.75 17.8315 18.75 17.5V2.5ZM0 2.5C0 1.83696 0.263392 1.20107 0.732233 0.732233C1.20107 0.263392 1.83696 0 2.5 0L17.5 0C18.163 0 18.7989 0.263392 19.2678 0.732233C19.7366 1.20107 20 1.83696 20 2.5V17.5C20 18.163 19.7366 18.7989 19.2678 19.2678C18.7989 19.7366 18.163 20 17.5 20H2.5C1.83696 20 1.20107 19.7366 0.732233 19.2678C0.263392 18.7989 0 18.163 0 17.5V2.5ZM7.3175 13.5038C7.20031 13.6211 7.04129 13.6871 6.87544 13.6872C6.70959 13.6873 6.55048 13.6216 6.43313 13.5044C6.31577 13.3872 6.24977 13.2282 6.24965 13.0623C6.24954 12.8965 6.31531 12.7374 6.4325 12.62L11.5538 7.5H8.09375C7.92799 7.5 7.76902 7.43415 7.65181 7.31694C7.5346 7.19973 7.46875 7.04076 7.46875 6.875C7.46875 6.70924 7.5346 6.55027 7.65181 6.43306C7.76902 6.31585 7.92799 6.25 8.09375 6.25H13.0625C13.2283 6.25 13.3872 6.31585 13.5044 6.43306C13.6217 6.55027 13.6875 6.70924 13.6875 6.875V11.8438C13.6875 12.0095 13.6217 12.1685 13.5044 12.2857C13.3872 12.4029 13.2283 12.4688 13.0625 12.4688C12.8967 12.4688 12.7378 12.4029 12.6206 12.2857C12.5033 12.1685 12.4375 12.0095 12.4375 11.8438V8.38375L7.3175 13.5038Z"
                    fill="currentColor"/>
            </svg>
          </a>
        </div>
      </div>
      <div class="current-product_info_description mt32">
        <h4>Описание</h4>
        <h6 class="mt8">{{ selectedProduct.description }}</h6>
      </div>
      <div class="mt32">
        <h4>Электронный адрес</h4>
        <h6  class="mt8">{{ selectedProduct.email }}</h6>
      </div>
      <div class="mt32">
        <h6>Было опубликовано: <span>{{ selectedProduct.created | relativeTime}}</span></h6>
      </div>
    </div>
  </div>
} @else {
  <h1>Загрузка...</h1>
}

