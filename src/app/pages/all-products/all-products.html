<app-loading-modal></app-loading-modal>
<div class="all-products mb100">
  <h4 class="all-products mb24">
    @if (searchService.searchQuery()) {
      Результаты поиска: "{{ searchService.searchQuery() }}"
    } @else {
      Рекомендации для вас
    }
  </h4>
  <div class="all-products_wrapper">
    @if (filteredProducts().length > 0) {
      <div
        *ngFor="let product of filteredProducts()"
      >
        <app-product-mini-card
          [product]="product"
          [routerLink]="['current-product/' + product.id]"
        ></app-product-mini-card>
      </div>
    } @else if (searchService.searchQuery() && products().length > 0) {
      <div class="no-results">
        <p>По вашему запросу ничего не найдено</p>
        <button class="btn btn-primary" (click)="clearSearch()">
          Показать все товары
        </button>
      </div>
    } @else if (products().length === 0) {
      <div class="loading-message">
        <p>Загружаем объявления...</p>
      </div>
    }
  </div>
</div>


